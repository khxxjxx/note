(this.webpackJsonpnote=this.webpackJsonpnote||[]).push([[0],{27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var i=n(5),o=n.n(i),c=n(4),d=n(3),a=n(6),r=n(13),l=n(12),s=n(10),u=n.n(s),x=Object(r.a)({name:"notes",initialState:{note:[],index:[]},reducers:{addNote:function(e){var t={id:(new Date).valueOf(),title:"\uc0c8\ub85c\uc6b4 \ub178\ud2b8",text:void 0,coord:{x:50,y:50},size:{w:200,h:180},display:"inline-block"};e.note.push(t),e.index.push(t.id)},removeNote:function(e,t){e.note=e.note.filter((function(e){return e.id!==t.payload})),e.index=e.index.filter((function(e){return e!==t.payload}))},clickNote:function(e,t){var n=e.index.indexOf(t.payload);e.index.splice(n,1),e.index.push(t.payload)},moveNote:function(e,t){e.note.find((function(e){return e.id===t.payload.id})).coord=t.payload.coord},reSizeNote:function(e,t){var n=document.querySelector(".note".concat(t.payload)).clientWidth,i=document.querySelector(".note".concat(t.payload)).clientHeight;e.note.find((function(e){return e.id===t.payload})).size={w:n,h:i}},minimize:function(e,t){e.note.find((function(e){return e.id===t.payload})).display="none"},maximize:function(e,t){e.note.find((function(e){return e.id===t.payload})).display="inline-block"},addText:function(e,t){var n=e.note.find((function(e){return e.id===t.payload.id}));n.text=t.payload.text;var i=t.payload.text.indexOf("\n");-1!==i?t.payload.text.slice(0,i).length<11?n.title=t.payload.text.slice(0,i):n.title=t.payload.text.slice(0,10)+"...":""===t.payload.text?n.title="\uc0c8\ub85c\uc6b4 \ub178\ud2b8":t.payload.text.length<11?n.title=t.payload.text.slice(0,10):n.title=t.payload.text.slice(0,10)+"..."}}}),f={key:"root",storage:u.a},j=x.actions,v=Object(l.a)(f,x.reducer),m=Object(d.d)(v),p=Object(a.a)(m),h=n(11),b=(n(0),n(1)),y=function(e){var t=Object(c.b)();return Object(b.jsx)("li",{onClick:function(n){t(j.maximize(e.note.id)),t(j.clickNote(e.note.id))},children:e.note.title})};var O=function(){var e=Object(c.c)((function(e){return e.note})),t=Object(c.b)();return Object(b.jsxs)("div",{className:"lists",children:[Object(b.jsx)("ul",{className:"list",children:e.map((function(e){return Object(b.jsx)(y,{note:e},e.id)}))}),Object(b.jsx)("div",{className:"add",onClick:function(){t(j.addNote())},children:"+"})]})},w=function(e){return Object(b.jsxs)("div",{className:"main",children:[Object(b.jsx)("div",{className:"title",children:"Note"}),e.children]})},N=function(e){var t,n,i=Object(c.b)(),o=null===(t=document.querySelector(".pad"))||void 0===t?void 0:t.clientWidth,d=null===(n=document.querySelector(".pad"))||void 0===n?void 0:n.clientHeight,a=20;return Object(b.jsxs)("div",{className:"note note".concat(e.note.id),style:{top:e.note.coord.y,left:e.note.coord.x,width:e.note.size.w,height:e.note.size.h,maxWidth:o&&o-e.note.coord.x-a,maxHeight:d&&d-e.note.coord.y-a,display:e.note.display,zIndex:e.idx},onMouseDown:function(){i(j.clickNote(e.note.id));var t=function(){i(j.reSizeNote(e.note.id))};window.addEventListener("mousemove",t),window.addEventListener("mouseup",(function e(){window.removeEventListener("mousemove",t),window.removeEventListener("mouseup",e)}))},children:[Object(b.jsxs)("div",{className:"top_bar",onMouseDown:function(t){var n=t.clientX,c=t.clientY,r=function(t){var r=e.note.coord.x+(t.clientX-n),l=e.note.coord.y+(t.clientY-c);r<=a&&(r=a),l<=a&&(l=a);var s=r+e.note.size.w,u=l+e.note.size.h;o-a<s&&(r=o-a-e.note.size.w),d-a<u&&(l=d-a-e.note.size.h),i(j.moveNote({id:e.note.id,coord:{x:r,y:l}}))};window.addEventListener("mousemove",r),window.addEventListener("mouseup",(function e(){window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",e)}))},children:[Object(b.jsx)("div",{onClick:function(){i(j.minimize(e.note.id))},children:"-"}),Object(b.jsx)("div",{onClick:function(){i(j.removeNote(e.note.id))},children:"x"})]}),Object(b.jsx)("textarea",{onChange:function(t){i(j.addText({id:e.note.id,text:t.target.value}))},children:e.note.text})]})},z=function(){var e=Object(c.c)((function(e){return e.note})),t=Object(c.c)((function(e){return e.index}));return Object(b.jsx)("div",{className:"pad",children:e.map((function(e){return Object(b.jsx)(N,{note:e,idx:t.indexOf(e.id)},e.id)}))})};n(27);var k=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(w,{children:Object(b.jsx)(O,{})}),Object(b.jsx)(z,{})]})};n(28);o.a.render(Object(b.jsx)(c.a,{store:m,children:Object(b.jsx)(h.a,{persistor:p,children:Object(b.jsx)(k,{})})}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.36e5d3af.chunk.js.map