{"version":3,"sources":["store/index.ts","store/store.ts","components/List.tsx","components/Lists.tsx","components/Main.tsx","components/NotePad.tsx","components/Pad.tsx","App.tsx","index.tsx"],"names":["noteSlice","createSlice","name","initialState","note","index","reducers","addNote","state","newNote","id","Date","valueOf","title","text","undefined","coord","x","y","size","w","h","display","push","removeNote","action","filter","payload","idx","clickNote","findIdx","indexOf","splice","moveNote","find","reSizeNote","document","querySelector","clientWidth","clientHeight","minimize","maximize","addText","findNote","enter","slice","length","persistConfig","key","storage","noteActions","actions","persistReducer","reducer","store","createStore","noteReducer","persistor","persistStore","List","props","dispatch","useDispatch","onClick","e","Lists","notes","useSelector","className","map","Main","children","NotePad","W","H","padding","style","top","left","width","height","maxWidth","maxHeight","zIndex","onMouseDown","changeSize","window","addEventListener","mouseUpSize","removeEventListener","startX","clientX","startY","clientY","r","b","mouseUpNote","onChange","target","value","Pad","App","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.36e5d3af.chunk.js","sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { persistReducer } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\n\nexport type noteType = {\n  id: number;\n  title: string;\n  text?: string;\n  coord: { x: number; y: number };\n  size: { w: number; h: number };\n  display: string;\n};\n\ntype stateType = {\n  note: noteType[];\n  index: number[];\n};\n\nconst initialState: stateType = {\n  note: [],\n  index: [],\n};\n\nexport const noteSlice = createSlice({\n  name: 'notes',\n  initialState,\n  reducers: {\n    addNote: state => {\n      const newNote = {\n        id: new Date().valueOf(),\n        title: '새로운 노트',\n        text: undefined,\n        coord: { x: 50, y: 50 },\n        size: { w: 200, h: 180 },\n        display: 'inline-block',\n      };\n\n      state.note.push(newNote);\n      state.index.push(newNote.id);\n    },\n    removeNote: (state, action: PayloadAction<number>) => {\n      state.note = state.note.filter(note => note.id !== action.payload);\n      state.index = state.index.filter(idx => idx !== action.payload);\n    },\n    clickNote: (state, action: PayloadAction<number>) => {\n      const findIdx = state.index.indexOf(action.payload);\n      state.index.splice(findIdx, 1);\n      state.index.push(action.payload);\n    },\n    moveNote: (\n      state,\n      action: PayloadAction<{ id: number; coord: { x: number; y: number } }>\n    ) => {\n      state.note.find(note => note.id === action.payload.id)!.coord =\n        action.payload.coord;\n    },\n    reSizeNote: (state, action: PayloadAction<number>) => {\n      const w = document.querySelector(`.note${action.payload}`)!.clientWidth;\n      const h = document.querySelector(`.note${action.payload}`)!.clientHeight;\n\n      state.note.find(note => note.id === action.payload)!.size = {\n        w: w,\n        h: h,\n      };\n    },\n    minimize: (state, action: PayloadAction<number>) => {\n      state.note.find(note => note.id === action.payload)!.display = 'none';\n    },\n    maximize: (state, action: PayloadAction<number>) => {\n      state.note.find(note => note.id === action.payload)!.display =\n        'inline-block';\n    },\n    addText: (state, action: PayloadAction<{ id: number; text: string }>) => {\n      const findNote = state.note.find(note => note.id === action.payload.id)!;\n      findNote.text = action.payload.text;\n      const enter = action.payload.text.indexOf('\\n');\n\n      if (enter !== -1) {\n        if (action.payload.text.slice(0, enter).length < 11) {\n          findNote.title = action.payload.text.slice(0, enter);\n        } else {\n          findNote.title = action.payload.text.slice(0, 10) + '...';\n        }\n      } else {\n        if (action.payload.text === '') {\n          findNote.title = '새로운 노트';\n        } else if (action.payload.text.length < 11) {\n          findNote.title = action.payload.text.slice(0, 10);\n        } else {\n          findNote.title = action.payload.text.slice(0, 10) + '...';\n        }\n      }\n    },\n  },\n});\n\nexport const persistConfig = {\n  key: 'root',\n  storage,\n};\n\nexport const noteActions = noteSlice.actions;\n\nexport default persistReducer(persistConfig, noteSlice.reducer);\n","import { createStore } from 'redux';\nimport persistStore from 'redux-persist/es/persistStore';\nimport noteReducer from '.';\n\nexport const store = createStore(noteReducer);\n\nexport const persistor = persistStore(store);\n\nexport type AppDispatch = typeof store.dispatch;\nexport type RootState = ReturnType<typeof store.getState>;\n","import { useDispatch } from 'react-redux';\nimport { noteActions, noteType } from '../store';\n\nconst List: React.FC<{ note: noteType }> = props => {\n  const dispatch = useDispatch();\n\n  const maximize = (e: any) => {\n    dispatch(noteActions.maximize(props.note.id));\n    dispatch(noteActions.clickNote(props.note.id));\n  };\n\n  return <li onClick={maximize}>{props.note.title}</li>;\n};\n\nexport default List;\n","import { useDispatch, useSelector } from 'react-redux';\nimport { noteActions } from '../store';\nimport { RootState } from '../store/store';\nimport List from './List';\n\nfunction Lists() {\n  const notes = useSelector((state: RootState) => state.note);\n  const dispatch = useDispatch();\n\n  const addNote = () => {\n    dispatch(noteActions.addNote());\n  };\n\n  return (\n    <div className=\"lists\">\n      <ul className=\"list\">\n        {notes.map(note => (\n          <List note={note} key={note.id} />\n        ))}\n      </ul>\n      <div className=\"add\" onClick={addNote}>\n        +\n      </div>\n    </div>\n  );\n}\n\nexport default Lists;\n","const Main: React.FC = props => {\n  return (\n    <div className=\"main\">\n      <div className=\"title\">Note</div>\n      {props.children}\n    </div>\n  );\n};\n\nexport default Main;\n","import { noteType, noteActions } from '../store';\nimport { useDispatch } from 'react-redux';\nimport { ChangeEvent } from 'react';\n\nconst NotePad: React.FC<{\n  note: noteType;\n  idx: number;\n}> = props => {\n  const dispatch = useDispatch();\n  const W = document.querySelector('.pad')?.clientWidth;\n  const H = document.querySelector('.pad')?.clientHeight;\n  const padding = 20;\n\n  const mouseDownNote = (e: React.MouseEvent<HTMLDivElement>): void => {\n    const startX: number = e.clientX;\n    const startY: number = e.clientY;\n\n    const moveNote = (e: MouseEvent): void => {\n      let x: number = props.note.coord.x + (e.clientX - startX);\n      let y: number = props.note.coord.y + (e.clientY - startY);\n\n      x <= padding && (x = padding);\n      y <= padding && (y = padding);\n\n      let r = x + props.note.size.w;\n      let b = y + props.note.size.h;\n\n      W! - padding < r && (x = W! - padding - props.note.size.w);\n      H! - padding < b && (y = H! - padding - props.note.size.h);\n\n      dispatch(\n        noteActions.moveNote({ id: props.note.id, coord: { x: x, y: y } })\n      );\n    };\n\n    const mouseUpNote = (): void => {\n      window.removeEventListener('mousemove', moveNote);\n      window.removeEventListener('mouseup', mouseUpNote);\n    };\n\n    window.addEventListener('mousemove', moveNote);\n    window.addEventListener('mouseup', mouseUpNote);\n  };\n\n  const mouseDownSize = () => {\n    dispatch(noteActions.clickNote(props.note.id));\n\n    const changeSize = () => {\n      dispatch(noteActions.reSizeNote(props.note.id));\n    };\n\n    const mouseUpSize = (): void => {\n      window.removeEventListener('mousemove', changeSize);\n      window.removeEventListener('mouseup', mouseUpSize);\n    };\n\n    window.addEventListener('mousemove', changeSize);\n    window.addEventListener('mouseup', mouseUpSize);\n  };\n\n  const removeNoteHandler = () => {\n    dispatch(noteActions.removeNote(props.note.id));\n  };\n\n  const minimizeHandler = () => {\n    dispatch(noteActions.minimize(props.note.id));\n  };\n\n  const onChange = (e: ChangeEvent<HTMLTextAreaElement>): void => {\n    dispatch(noteActions.addText({ id: props.note.id, text: e.target.value }));\n  };\n\n  return (\n    <div\n      className={`note note${props.note.id}`}\n      style={{\n        top: props.note.coord.y,\n        left: props.note.coord.x,\n        width: props.note.size.w,\n        height: props.note.size.h,\n        maxWidth: W && W! - props.note.coord.x - padding,\n        maxHeight: H && H! - props.note.coord.y - padding,\n        display: props.note.display,\n        zIndex: props.idx,\n      }}\n      onMouseDown={mouseDownSize}>\n      <div className=\"top_bar\" onMouseDown={mouseDownNote}>\n        <div onClick={minimizeHandler}>-</div>\n        <div onClick={removeNoteHandler}>x</div>\n      </div>\n      <textarea onChange={onChange}>{props.note.text}</textarea>\n    </div>\n  );\n};\n\nexport default NotePad;\n","import { useSelector } from 'react-redux';\nimport { RootState } from '../store/store';\nimport NotePad from './NotePad';\n\nconst Pad = () => {\n  const notes = useSelector((state: RootState) => state.note);\n  const index = useSelector((state: RootState) => state.index);\n\n  return (\n    <div className=\"pad\">\n      {notes.map(note => (\n        <NotePad note={note} key={note.id} idx={index.indexOf(note.id)} />\n      ))}\n    </div>\n  );\n};\n\nexport default Pad;\n","import React from 'react';\nimport Lists from './components/Lists';\nimport Main from './components/Main';\nimport Pad from './components/Pad';\nimport './App.css';\n\nfunction App() {\n  return (\n    <>\n      <Main>\n        <Lists />\n      </Main>\n      <Pad />\n    </>\n  );\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { store, persistor } from './store/store';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <Provider store={store}>\n    <PersistGate persistor={persistor}>\n      <App />\n    </PersistGate>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}