(this.webpackJsonpnote=this.webpackJsonpnote||[]).push([[0],{27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var o=n(5),i=n.n(o),c=n(4),d=n(3),r=n(6),a=n(13),l=n(12),s=n(10),u=n.n(s),f={yellow:{t:"#fff174",b:"#faf1a0"},blue:{t:"#85b0ff",b:"#b4ceff"},green:{t:"#baff74",b:"#d3ffa7"},pink:{t:"#f08080",b:"#f1abab"},purple:{t:"#cd97ff",b:"#debcfd"},gray:{t:"#aaaaaa",b:"#cacaca"}},b=Object(a.a)({name:"notes",initialState:{note:[],index:[]},reducers:{addNote:function(e){var t={id:(new Date).valueOf(),title:"\uc0c8\ub85c\uc6b4 \ub178\ud2b8",text:void 0,coord:{x:50,y:50},size:{w:200,h:180},display:"inline-block",toggle:!1,color:f.pink};e.note.push(t),e.index.push(t.id)},removeNote:function(e,t){e.note=e.note.filter((function(e){return e.id!==t.payload})),e.index=e.index.filter((function(e){return e!==t.payload}))},clickNote:function(e,t){var n=e.index.indexOf(t.payload);e.index.splice(n,1),e.index.push(t.payload)},moveNote:function(e,t){e.note.find((function(e){return e.id===t.payload.id})).coord=t.payload.coord},reSizeNote:function(e,t){var n=document.querySelector(".note".concat(t.payload)).clientWidth,o=document.querySelector(".note".concat(t.payload)).clientHeight;e.note.find((function(e){return e.id===t.payload})).size={w:n,h:o}},minimize:function(e,t){e.note.find((function(e){return e.id===t.payload})).display="none"},maximize:function(e,t){e.note.find((function(e){return e.id===t.payload})).display="inline-block"},addText:function(e,t){var n=e.note.find((function(e){return e.id===t.payload.id}));n.text=t.payload.text;var o=t.payload.text.indexOf("\n");-1!==o?t.payload.text.slice(0,o).length<11?n.title=t.payload.text.slice(0,o):n.title=t.payload.text.slice(0,10)+"...":""===t.payload.text?n.title="\uc0c8\ub85c\uc6b4 \ub178\ud2b8":t.payload.text.length<11?n.title=t.payload.text.slice(0,10):n.title=t.payload.text.slice(0,10)+"..."},toggle:function(e,t){var n=e.note.find((function(e){return e.id===t.payload}));n.toggle=!n.toggle},colorChange:function(e,t){e.note.find((function(e){return e.id===t.payload.id})).color=f[t.payload.color]}}}),x={key:"root",storage:u.a},j=b.actions,p=Object(l.a)(x,b.reducer),v=Object(d.d)(p),m=Object(r.a)(v),y=n(11),h=(n(0),n(1)),O=function(e){var t=Object(c.b)();return Object(h.jsx)("li",{onClick:function(n){t(j.maximize(e.note.id)),t(j.clickNote(e.note.id))},style:{backgroundColor:e.note.color.t},children:e.note.title})};var g=function(){var e=Object(c.c)((function(e){return e.note})),t=Object(c.b)();return Object(h.jsxs)("div",{className:"lists",children:[Object(h.jsx)("ul",{className:"list",children:e.map((function(e){return Object(h.jsx)(O,{note:e},e.id)}))}),Object(h.jsx)("div",{className:"add",onClick:function(){t(j.addNote())},children:"+"})]})},w=function(e){return Object(h.jsxs)("div",{className:"main",children:[Object(h.jsx)("div",{className:"title",children:"Note"}),e.children]})},k=function(e){var t=Object(c.b)();return Object(h.jsx)("li",{onClick:function(){t(j.colorChange({id:e.id,color:e.color}))},children:e.color})},N=function(e){var t,n,o=Object(c.b)(),i=null===(t=document.querySelector(".pad"))||void 0===t?void 0:t.clientWidth,d=null===(n=document.querySelector(".pad"))||void 0===n?void 0:n.clientHeight,r=20;return Object(h.jsxs)("div",{className:"note note".concat(e.note.id),style:{top:e.note.coord.y,left:e.note.coord.x,width:e.note.size.w,height:e.note.size.h,maxWidth:i&&i-e.note.coord.x-r,maxHeight:d&&d-e.note.coord.y-r,display:e.note.display,zIndex:e.idx,backgroundColor:e.note.color.b},onMouseDown:function(){o(j.clickNote(e.note.id));var t=function(){o(j.reSizeNote(e.note.id))};window.addEventListener("mousemove",t),window.addEventListener("mouseup",(function e(){window.removeEventListener("mousemove",t),window.removeEventListener("mouseup",e)}))},children:[Object(h.jsxs)("div",{className:"top_bar",onMouseDown:function(t){var n=t.clientX,c=t.clientY,a=function(t){var a=e.note.coord.x+(t.clientX-n),l=e.note.coord.y+(t.clientY-c);a<=r&&(a=r),l<=r&&(l=r);var s=a+e.note.size.w,u=l+e.note.size.h;i-r<s&&(a=i-r-e.note.size.w),d-r<u&&(l=d-r-e.note.size.h),o(j.moveNote({id:e.note.id,coord:{x:a,y:l}}))};window.addEventListener("mousemove",a),window.addEventListener("mouseup",(function e(){window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",e)}))},style:{backgroundColor:e.note.color.t},children:[Object(h.jsx)("div",{className:"color",onClick:function(){o(j.toggle(e.note.id))},style:{backgroundColor:e.note.color.b},children:Object(h.jsx)("div",{style:{display:e.note.toggle?"block":"none"},children:Object(h.jsx)("ul",{style:{backgroundColor:e.note.color.t},children:Object.keys(f).map((function(t,n){return Object(h.jsx)(k,{color:t,id:e.note.id},n)}))})})}),Object(h.jsxs)("div",{className:"top_btn",children:[Object(h.jsx)("div",{onClick:function(){o(j.minimize(e.note.id))},children:"-"}),Object(h.jsx)("div",{onClick:function(){o(j.removeNote(e.note.id))},children:"x"})]})]}),Object(h.jsx)("textarea",{onChange:function(t){o(j.addText({id:e.note.id,text:t.target.value}))},children:e.note.text})]})},z=function(){var e=Object(c.c)((function(e){return e.note})),t=Object(c.c)((function(e){return e.index}));return Object(h.jsx)("div",{className:"pad",children:e.map((function(e){return Object(h.jsx)(N,{note:e,idx:t.indexOf(e.id)},e.id)}))})};n(27);var C=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(w,{children:Object(h.jsx)(g,{})}),Object(h.jsx)(z,{})]})};n(28);i.a.render(Object(h.jsx)(c.a,{store:v,children:Object(h.jsx)(y.a,{persistor:m,children:Object(h.jsx)(C,{})})}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.98a95739.chunk.js.map